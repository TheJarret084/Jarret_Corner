<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>El Shader-inador</title>
  <link rel="stylesheet" href="El_Shader-inador.css">
</head>
<body>

<header>
  <h1>El MEGA Shader-inador</h1>
</header>

<main id="app">
  <section id="controls" class="preview-container">
    <div class="control-row mobile-stack">
      <button id="btnSelectImage" class="primary large">Seleccionar imagen</button>
      <button id="btnSelectShader" class="secondary large">Agregar shader (.frag)</button>
      <button id="btnDropHint" class="ghost large">Arrastrar / Tocar aquí</button>
    </div>

    <div class="control-row mobile-stack">
      <label class="slider-label">Intensidad
        <input id="intensitySlider" type="range" min="0" max="1" step="0.01" value="1">
      </label>

      <div class="btn-group">
        <button id="applyShaderBtn" class="primary large" disabled>Aplicar shader</button>
        <button id="removeShaderBtn" class="danger large" disabled>Eliminar shader</button>
        <button id="downloadBtn" class="primary large" disabled>Descargar imagen</button>
      </div>
    </div>

    <div class="control-row small">
      <!-- NO capture attribute to avoid opening the camera -->
      <input id="imageInput" type="file" accept="image/*" hidden>
      <input id="shaderInput" type="file" accept=".frag,.glsl,.txt" hidden>
      <div id="status-text">Sube una imagen y uno o varios shaders .frag</div>
    </div>

    <div id="loaderContainer" aria-hidden="true">
      <div id="loaderBar"></div>
    </div>
  </section>

  <section id="result-panel">
    <div class="preview-container">
      <div class="preview-title">Preview</div>
      <canvas id="shaderCanvas" role="img" aria-label="Preview del shader aplicado"></canvas>
    </div>

    <div class="preview-container">
      <div class="preview-title">Shaders cargados</div>
      <ul id="shaderList" class="shader-list"></ul>
    </div>

    <div class="preview-container">
      <div class="preview-title">Código / Mensajes</div>
      <pre id="shaderCode" class="code-box">Aquí aparecerá el código del shader seleccionado y errores de compilación.</pre>
    </div>
  </section>
</main>

<footer id="footer-placeholder" class="preview-container">
  © 2025 Jarret Labs. El material que pasa por la página no está asociado a mi persona.
  <p>No funciona? Contáctame en Discord:</p>
  <a href="https://discord.com/users/thejarret084" target="_blank" class="discord-link">Discord</a>
</footer>

<!-- Punto de entrada: ui.js importa los otros módulos -->
<script type="module" src="ui.js"></script>
<script type="module" src="shaders.js"></script>
<script type="module" src="files.js"></script>
</body>
</html>
